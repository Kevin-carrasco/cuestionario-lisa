---
title: 'Cuestionario: Encuesta Cultura Tributaria'
date: "01-12-2019"
output:
  html_document:
    includes:
      after_body: disqus.html
    number_sections: yes
    theme: flatly
  pdf_document:
    keep_tex: false
    number_sections: true  
geometry: margin=0.78in
editor_options: 
  chunk_output_type: console
header-includes:
- \usepackage[fontsize=7pt]{scrextend}
---

# Versi√≥n 1.0: {.tabset}


<!-- [googlesheets](https://cran.r-project.org/web/packages/googlesheets/vignettes/basic-usage.html) -->

<!-- [vignette](https://cran.r-project.org/web/packages/googlesheets/vignettes/basic-usage.html#authorization-using-oauth2) -->

```{r setup, include=FALSE}
knitr::opts_chunk$set(message = FALSE,warning = FALSE, include = FALSE)
```


```{r }
library(googlesheets4)
library(googledrive)
library(dplyr)
library(data.table)
```


```{r eval=FALSE}
rmarkdown::render(input = "index.Rmd",output_format = "all", encoding = "UTF-8")
```


```{r eval=FALSE, warning=FALSE}
sheets_auth() # Autorizar usuario
```


```{r, cache=TRUE, eval=FALSE}
que01<- read_sheet(ss = "https://docs.google.com/spreadsheets/d/14EBl56DcpkSe9Yk-ct8v65dfnyGTlN9cNYq0tXIg4mQ/edit#gid=661818771", sheet = 6)
save(que01,file ="data/que01.RData")
```

```{r}
load("data/que01.RData")
dat01 <- que01 %>% select(modulo,varname,pregunta,statement,values) 
fwrite(x = dat01,file = "data/quest.csv")
dat02 <- fread(file = "data/quest.csv",encoding = "UTF-8")
```

```{r include=FALSE}
# Get output document type and use as the format argument in kable function
library(knitr)
library(kableExtra)

format01 = if(is_html_output()) {
  "<br>"
} else if(is_latex_output()) {
  " \\newline "
}

format02 = if(is_html_output()) {
  "<br>"
} else if(is_latex_output()) {
  "\\\\newline "
}
```


```{r}
dat02$values<- gsub(c("="), c(") "), dat02$values)
dat02$values<- gsub(c(";"), c(format02), dat02$values)
dat02$values
```

## Compliance {.tabset}

```{r Compliance,fig.width=6,echo=FALSE,message=FALSE,results="asis", include=TRUE}
attach(dat02)
for(i in c(1:56,65:88)) {
  cat("  \n ",paste0("**",toupper(varname[i]),"**"))
  cat("  \n ",paste0(pregunta[i],": ",format01,ifelse(test = (statement[i]==""),yes = "",no = paste0("_**",statement[i],"**_",format01))))
  cat(paste0(values[i],format01, ifelse(test = is_latex_output(),yes = format01,no = "")))
}
```

## Reform {.tabset}

```{r Reform,fig.width=6,echo=FALSE,message=FALSE,results="asis", include=TRUE}
attach(dat02)
for(i in 89:99) {
  cat("  \n ",paste0("**",toupper(varname[i]),"**"))
  cat("  \n ",paste0(pregunta[i],": ",format01,ifelse(test = (statement[i]==""),yes = "",no = paste0("_**",statement[i],"**_",format01))))
  cat(paste0(values[i],format01, ifelse(test = is_latex_output(),yes = format01,no = "")))
}

```

## Social Expenditure {.tabset}

```{r Social Expenditure,fig.width=6,echo=FALSE,message=FALSE,results="asis", include=TRUE}
attach(dat02)
for(i in c(57:64,100:143,237:268)) {
  cat("  \n ",paste0("**",toupper(varname[i]),"**"))
  cat("  \n ",paste0(pregunta[i],": ",format01,ifelse(test = (statement[i]==""),yes = "",no = paste0("_**",statement[i],"**_",format01))))
  cat(paste0(values[i],format01, ifelse(test = is_latex_output(),yes = format01,no = "")))
}
```

## Knowledge consciousness {.tabset}

```{r Knowledge consciousness,fig.width=6,echo=FALSE,message=FALSE,results="asis", include=TRUE}
attach(dat02)
for(i in 144:198) {
  cat("  \n ",paste0("**",toupper(varname[i]),"**"))
  cat("  \n ",paste0(pregunta[i],": ",format01,ifelse(test = (statement[i]==""),yes = "",no = paste0("_**",statement[i],"**_",format01))))
  cat(paste0(values[i],format01, ifelse(test = is_latex_output(),yes = format01,no = "")))
}
```

## Attitudes toward Taxes {.tabset}

```{r Attitudes toward Taxes,fig.width=6,echo=FALSE,message=FALSE,results="asis", include=TRUE}
attach(dat02)
for(i in 199:248) {
  cat("  \n ",paste0("**",toupper(varname[i]),"**"))
  cat("  \n ",paste0(pregunta[i],": ",format01,ifelse(test = (statement[i]==""),yes = "",no = paste0("_**",statement[i],"**_",format01))))
  cat(paste0(values[i],format01, ifelse(test = is_latex_output(),yes = format01,no = "")))
}
```

## Related topics {.tabset}

```{r related topics,fig.width=6,echo=FALSE,message=FALSE,results="asis", include=TRUE}
attach(dat02)
for(i in 249:260) {
  cat("  \n ",paste0("**",toupper(varname[i]),"**"))
  cat("  \n ",paste0(pregunta[i],": ",format01,ifelse(test = (statement[i]==""),yes = "",no = paste0("_**",statement[i],"**_",format01))))
  cat(paste0(values[i],format01, ifelse(test = is_latex_output(),yes = format01,no = "")))
}
```



<!-- ## Social Expenditure {.tabset} -->

<!-- ```{r pressure,fig.width=6,echo=FALSE,message=FALSE,results="asis", include=TRUE} -->
<!-- attach(dat02) -->
<!-- for(i in 295:301) { -->
<!--   cat("  \n ",paste0("**",toupper(varname[i]),"**")) -->
<!--   cat("  \n ",paste0(pregunta[i],": ","<br>","_**",statement[i],"**_","<br>")) -->
<!--   cat(paste0(values[i],"<br>")) -->
<!-- } -->
<!-- ``` -->



